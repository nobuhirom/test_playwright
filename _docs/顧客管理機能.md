# 顧客管理機能

## 概要
顧客管理機能は、取引先企業や顧客の情報を一元管理し、効率的な営業活動や顧客対応を実現するための機能です。企業情報、担当者情報、取引状況、業種などを登録・管理し、プロジェクトやタスクと連携することができます。

**URL**: http://localhost:3000/customers

## 主要機能

### 顧客一覧
- すべての顧客を一覧表示
- 企業名、担当者名、電話番号、メールアドレス、業種の表示
- 検索機能（企業名、担当者名）
- フィルタリング機能（業種、ステータス）
- 新規顧客登録へのリンク

### 顧客詳細
- 顧客の詳細情報表示
- 企業情報、担当者情報、住所、業種などを表示
- 関連プロジェクト一覧の表示
- 編集、削除機能へのアクセス

### 顧客登録/編集
- 各種情報の入力フォーム
- 必須項目（企業名、担当者名）の検証
- 業種、ステータスの選択
- 連絡先情報の登録

## データモデル

### 顧客情報
- 企業名（必須）: 文字列
- 担当者名（必須）: 文字列
- 電話番号: 文字列
- メールアドレス: 文字列（メール形式）
- 住所: 文字列
- 業種: 文字列（選択肢から選択）
- ステータス: 列挙型（'ACTIVE'（取引中）, 'INACTIVE'（休眠）, 'LEAD'（見込み客）, 'FORMER'（過去の取引先））
- 備考: 文字列
- 作成者: ObjectId（Userモデルへの参照、必須）
- 作成日時: 日付（自動設定）
- 更新日時: 日付（自動更新）

## 画面説明

### 顧客一覧画面
- 上部に検索・フィルタリング機能を配置
- 各顧客はカード形式でリスト表示
- 業種とステータスに基づいて色分け表示
- 連絡先情報も一覧で確認可能
- ソート機能（企業名、作成日時）

### 顧客詳細画面
- 顧客のすべての情報を整理して表示
- 上部に企業名と基本情報を表示
- テーブル形式で詳細情報を見やすく表示
- 関連プロジェクト一覧のセクション
- 編集・削除・戻るボタンを配置

### 顧客登録/編集画面
- フォーム形式で顧客情報を入力
- 企業名、担当者名（必須）、電話番号、メールアドレス、住所、業種、ステータス、備考欄を用意
- 入力エラーがある場合は即時フィードバック
- キャンセル/保存ボタンを配置

## 操作方法

### 新規顧客登録
1. 顧客一覧画面の「新規顧客登録」ボタンをクリック
2. 必須項目（企業名、担当者名）を入力
3. 必要に応じて他の項目も入力
4. 「登録」ボタンをクリック

### 顧客詳細表示
1. 顧客一覧から顧客をクリック
2. 顧客の詳細情報が表示される
3. 関連プロジェクトも確認可能

### 顧客情報編集
1. 顧客詳細画面の「編集」ボタンをクリック
2. 情報を更新
3. 「更新」ボタンをクリック

### 顧客削除
1. 顧客詳細画面の「削除」ボタンをクリック
2. 確認ダイアログで「OK」をクリック
3. 関連するプロジェクトや取引情報がある場合は警告表示

### 顧客のフィルタリング
1. 顧客一覧画面の上部にあるフィルターを使用
2. 業種やステータスでフィルタリング可能
3. 検索ボックスに企業名や担当者名を入力すると、該当する顧客を表示

## 技術仕様

- React + Next.js によるSPA実装
- MongoDB によるデータ保存
- react-hook-form によるフォーム管理
- zod によるバリデーション
- RESTful API によるデータアクセス
- レスポンシブデザインによるモバイル対応

## 今後の拡張予定

- 顧客関係の履歴管理機能
- 地図表示機能
- インポート/エクスポート機能
- 顧客ごとの売上集計
- メール送信機能の統合
- カスタムフィールドの追加 